<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Resultados - Aciertos</title>
</head>
<body>
  <h1>Clasificaci√≥n de Aciertos</h1>
  <table border="1">
    <thead>
      <tr><th>Jugador</th><th>Aciertos</th></tr>
    </thead>
    <tbody id="tablaResultados"></tbody>
  </table>

  <script>
    const API_URL = "https://script.google.com/macros/s/AKfycbzYJfUrgtEd80C_oeHivSLa6j1q0JfA6DLcQrpA1e3FIqnwiYsZyE0ETRJU487IFDgIWw/exec";

    async function cargarResultados() {
      const res = await fetch(API_URL);
      const { partidos, pronosticos } = await res.json();
      const resultados = partidos.slice(1).map(p => p[3]); // columna Resultado

      const tabla = document.getElementById("tablaResultados");
      pronosticos.slice(1).forEach(fila => {
        const nombre = fila[0];
        const aciertos = fila.slice(1).reduce((acc, val, i) => {
          return acc + (val === resultados[i] ? 1 : 0);
        }, 0);

        const tr = document.createElement("tr");
        tr.innerHTML = `<td>${nombre}</td><td>${aciertos}</td>`;
        tabla.appendChild(tr);
      });
    }

    cargarResultados();
  </script>
</body>
</html>
